diff --git a/src/features/Conversation/components/ShareMessageModal/ShareImage/Preview.tsx b/src/features/Conversation/components/ShareMessageModal/ShareImage/Preview.tsx
index 73ea631a0589a..5a53bf7043b53 100644
--- a/src/features/Conversation/components/ShareMessageModal/ShareImage/Preview.tsx
+++ b/src/features/Conversation/components/ShareMessageModal/ShareImage/Preview.tsx
@@ -78,7 +78,11 @@ const Preview = memo<PreviewProps>(
                   backgroundColor: agentMeta.backgroundColor,
                   title: displayTitle,
                 }}
-                id={message.id}
+                message={message.content}
+                placement={message.role === 'user' ? 'right' : 'left'}
+                showAvatar={true}
+                showTitle={false}
+                time={message.createdAt}
               />
             </Flexbox>
             {withFooter ? (
diff --git a/src/features/Conversation/hooks/useChatItemContextMenu.tsx b/src/features/Conversation/hooks/useChatItemContextMenu.tsx
index df37a9e313cd1..2fe8911c6b4d6 100644
--- a/src/features/Conversation/hooks/useChatItemContextMenu.tsx
+++ b/src/features/Conversation/hooks/useChatItemContextMenu.tsx
@@ -194,9 +194,12 @@ export const useChatItemContextMenu = ({
           createStore={() => {
             const state = storeApi.getState();
             return createStore({
-              context: state.context,
+              context: {
+                ...state.context,
+                agentId: item.agentId || state.context.agentId,
+              },
               hooks: state.hooks,
-              skipFetch: state.skipFetch,
+              skipFetch: true,
             });
           }}
         >
diff --git a/src/features/ShareModal/ShareImage/ChatList/index.tsx b/src/features/ShareModal/ShareImage/ChatList/index.tsx
index 4bfe4bc64ba68..08dfc5d0578a8 100644
--- a/src/features/ShareModal/ShareImage/ChatList/index.tsx
+++ b/src/features/ShareModal/ShareImage/ChatList/index.tsx
@@ -1,13 +1,14 @@
 import { Flexbox } from '@lobehub/ui';
+import isEqual from 'fast-deep-equal';
 import { memo } from 'react';
 
 import { ConversationProvider, MessageItem } from '@/features/Conversation';
 import { useChatStore } from '@/store/chat';
-import { chatSelectors } from '@/store/chat/selectors';
+import { dbMessageSelectors } from '@/store/chat/selectors';
 
 const ChatList = memo(() => {
-  const ids = useChatStore(chatSelectors.mainDisplayChatIDs);
-  const messages = useChatStore(chatSelectors.activeBaseChats);
+  const messages = useChatStore(dbMessageSelectors.activeDbMessages, isEqual);
+  const ids = messages.map((m) => m.id);
   const agentId = useChatStore((s) => s.activeAgentId);
   const topicId = useChatStore((s) => s.activeTopicId);
 
diff --git a/src/features/ShareModal/SharePdf/index.tsx b/src/features/ShareModal/SharePdf/index.tsx
index 5516beb6609ac..d19c7378592eb 100644
--- a/src/features/ShareModal/SharePdf/index.tsx
+++ b/src/features/ShareModal/SharePdf/index.tsx
@@ -13,7 +13,7 @@ import { useIsMobile } from '@/hooks/useIsMobile';
 import { useAgentStore } from '@/store/agent';
 import { agentSelectors } from '@/store/agent/selectors';
 import { useChatStore } from '@/store/chat';
-import { chatSelectors, topicSelectors } from '@/store/chat/selectors';
+import { dbMessageSelectors, topicSelectors } from '@/store/chat/selectors';
 
 import { generateMarkdown } from '../ShareText/template';
 import { type FieldType } from '../ShareText/type';
@@ -73,7 +73,7 @@ const SharePdf = memo((props: { message?: UIChatMessage }) => {
 
   // Use the same data gathering logic as ShareText
   const [systemRole] = useAgentStore((s) => [agentSelectors.currentAgentSystemRole(s)]);
-  const messages = useChatStore(chatSelectors.activeBaseChats, isEqual);
+  const messages = useChatStore(dbMessageSelectors.activeDbMessages, isEqual);
   const topic = useChatStore(topicSelectors.currentActiveTopic, isEqual);
   const activeId = useChatStore((s) => s.activeAgentId);
   const topicId = useChatStore((s) => s.activeTopicId);
diff --git a/src/features/ShareModal/ShareText/index.tsx b/src/features/ShareModal/ShareText/index.tsx
index c964ca4186f00..4741ad1eadab0 100644
--- a/src/features/ShareModal/ShareText/index.tsx
+++ b/src/features/ShareModal/ShareText/index.tsx
@@ -12,7 +12,10 @@ import { useIsMobile } from '@/hooks/useIsMobile';
 import { useAgentStore } from '@/store/agent';
 import { agentSelectors } from '@/store/agent/selectors';
 import { useChatStore } from '@/store/chat';
-import { displayMessageSelectors, topicSelectors } from '@/store/chat/selectors';
+import {
+  dbMessageSelectors,
+  topicSelectors,
+} from '@/store/chat/selectors';
 
 import { styles } from '../style';
 import Preview from './Preview';
@@ -66,7 +69,7 @@ const ShareText = memo(() => {
   ];
 
   const [systemRole] = useAgentStore((s) => [agentSelectors.currentAgentSystemRole(s)]);
-  const messages = useChatStore(displayMessageSelectors.activeDisplayMessages, isEqual);
+  const messages = useChatStore(dbMessageSelectors.activeDbMessages, isEqual);
   const topic = useChatStore(topicSelectors.currentActiveTopic, isEqual);
 
   const title = topic?.title || t('shareModal.exportTitle');
